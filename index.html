<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YETI DRINK</title>

<style>
@font-face {
  font-family: "ZingRust";
  src: url("ZingRust.ttf");
}

body {
  margin: 0;
  padding: 0;
  font-family: "ZingRust", Arial, Helvetica, sans-serif;
  color: #377ceb;
  text-align: center;
  background: linear-gradient(90deg, #ff8abf, #ffffff, #ff8abf);
  background-size: 300% 300%;
  animation: gradientMove 12s ease infinite;
}

@keyframes gradientMove {
  0% {background-position: 0% 50%;}
  50% {background-position: 100% 50%;}
  100% {background-position: 0% 50%;}
}

/* Граффити фон */
body::before {
  content:"";
  position:fixed;
  top:0; left:0; right:0; bottom:0;
  background:url('graffiti.png') no-repeat center center;
  background-size: cover;
  opacity:0.15;
  z-index:-1;
}

/* Стикер */
.sticker {
  position: fixed;
  top: 15px;
  right: 15px;
  width: 90px;
  z-index: 1000;
  filter: drop-shadow(0 8px 12px rgba(0,0,0,0.25));
  animation: spin 8s linear infinite;
}

@keyframes spin {from {transform:rotate(0deg);} to {transform:rotate(360deg);}}

/* Header */
.header {padding: 20px;}
.header img {max-width:180px; width:60%;}

/* Текст под логотипом */
.logo-text {
  font-family: "ZingRust";
  background:white;
  color:#377ceb;
  border:2px solid #377ceb;
  border-radius:20px;
  padding:20px;
  margin:15px auto;
  max-width: 700px;
  box-shadow:0 8px 18px rgba(0,0,0,0.15);
}

/* Плашка на мазке */
.label-brush {
  font-family: "ZingRust";
  display:inline-block;
  position:relative;
  padding:10px 20px;
  color:#377ceb;
  font-size:1.5em;
  margin:20px 0 10px 0;
  background: rgba(255,138,191,0.85);
  border-radius:15px;
  transform: rotate(-3deg);
}

/* Карусель */
.carousel-container {position:relative; margin:40px auto; max-width:700px; overflow:hidden;}
.carousel {display:flex; transition: transform 0.5s ease;}
.slide {min-width:100%; user-select:none; position:relative;}
.slide img, .slide video {width:100%; border-radius:20px; box-shadow:0 10px 20px rgba(0,0,0,0.25);}
.caption {font-family:"ZingRust"; background:white; color:#377ceb; border-radius:15px; padding:15px; margin-top:10px; max-width:90%; box-shadow:0 8px 18px rgba(0,0,0,0.15); margin-left:auto; margin-right:auto; font-size:1.2em;}
.arrow {position:absolute; top:50%; transform:translateY(-50%); font-size:2em; color:#377ceb; cursor:pointer; user-select:none; z-index:10;}
.arrow.left {left:10px;}
.arrow.right {right:10px;}
.dots {text-align:center; margin-top:15px;}
.dot {display:inline-block; width:12px; height:12px; background:#ddd; border-radius:50%; margin:0 4px; cursor:pointer;}
.dot.active {background:#377ceb;}

/* Жалобы кнопка */
.feedback-link {
  display:inline-block;
  margin:60px auto 80px;
  background:#377ceb;
  color:#fff;
  padding:18px 30px;
  border-radius:15px;
  font-size:1.2em;
  font-weight:700;
  text-decoration:none;
  box-shadow:0 8px 16px rgba(0,0,0,0.15);
  transition: transform 0.25s ease, box-shadow 0.25s ease;
}
.feedback-link:hover {transform: scale(1.05); box-shadow:0 12px 22px rgba(0,0,0,0.25);}

</style>
</head>
<body>

<!-- Музыка -->
<audio autoplay loop>
  <source src="My.mp3" type="audio/mpeg">
</audio>

<!-- Стикер -->
<img src="sticker.png" class="sticker" alt="sticker">

<header class="header">
  <img src="logo.png" alt="Логотип">
</header>

<div class="logo-text">
YETI — кафе с авторскими напитками на основе чая и натурального пюре и завтраками целый день. Это место для тех, кто живёт в движении, выбирает вкусы, свободу и комьюнити по вайбу
</div>


<!-- Примеры каруселей меню -->
<div class="label-brush">Салаты</div>
<div class="carousel-container" id="salats-carousel-container" data-autoplay="true" data-interval="5000">
  <div class="carousel">
    <div class="slide"><img src="Salat1.jpg"><div class="caption">Салат с ростбифом и соусом из тунца 540 ₽</div></div>
    <div class="slide"><img src="Salat2.jpg"><div class="caption">Салат фитнес с соусом дзадзики и семенами льна 360₽</div></div>
    <div class="slide"><img src="Salat3.jpg"><div class="caption">Грин салат с лангустинами 570₽</div></div>
  </div>
  <div class="arrow left">&#10094;</div>
  <div class="arrow right">&#10095;</div>
  <div class="dots">
    <span class="dot active"></span>
    <span class="dot"></span>
    <span class="dot"></span>
  </div>
</div>


  <div class="label-brush">Яйца</div>
<div class="carousel-container" id="eggs-carousel-container" data-autoplay="true" data-interval="5000">
  <div class="carousel">
    <div class="slide"><img src="Яйца1.jpg"><div class="caption">Глазунья с ростбифом и белой фасолью 440 ₽</div></div>
    <div class="slide"><img src="Яйца2.jpg"><div class="caption">Французский омлет с мортаделлой и зеленью 440₽</div></div>
    <div class="slide"><img src="Яйца3.jpg"><div class="caption">Скрембл с лососем и страчателлой 690₽</div></div>
  </div>
  <div class="arrow left">&#10094;</div>
  <div class="arrow right">&#10095;</div>
  <div class="dots">
    <span class="dot active"></span>
    <span class="dot"></span>
    <span class="dot"></span>
  </div>
</div>

<script>
function initCarousel(container) {
  const carousel = container.querySelector('.carousel');
  const track = carousel.querySelector('.track');
  const slides = Array.from(track.children);
  const left = carousel.querySelector('.arrow.left');
  const right = carousel.querySelector('.arrow.right');
  const dotsContainer = container.querySelector('.dots');
  const dots = dotsContainer ? Array.from(dotsContainer.querySelectorAll('.dot')) : [];
  const captionEl = container.querySelector('.caption');

  const intervalMs = Number(carousel.dataset.interval) || 5000;
  let idx = 0;
  let autoplayTimer = null;
  let pausedByHold = false;

  function update() {
    track.style.transform = `translateX(-${idx * 100}%)`;
    dots.forEach((d, i) => d.classList.toggle('active', i === idx));
    if (captionEl) {
      const captions = {
        'salats-carousel-container': [
          'Салат с ростбифом и соусом из тунца 540 ₽',
          'Салат фитнес с соусом дзадзики и семенами льна 360₽',
          'Грин салат с лангустинами 570₽'
        ],
        'eggs-carousel-container': [
          'Глазунья с ростбифом и белой фасолью 440 ₽',
          'Французский омлет с мортаделлой и зеленью 440 ₽',
          'Скрембл с лососем и страчателлой 690₽'
        ],
        'kasha-carousel-container': [
          'Каша овсяная с тартаром из киви и грецким орехом 360₽',
          'Каша рисовая с манго, соусом из маракуйи и миндалем 360₽',
          'Зеленая гречка с яйцом пашот и пармезаном 360₽',
          'Киноа с лангустинами и пепперони в соусе биск 620₽'
        ],
        'brusketta-carousel-container': [
          'Брускетта с лососем и яйцом пашот 640₽',
          'Брускетта с ростбифом и хумусом 540₽',
          'Брускетта мимоза 540₽'
        ],
        'draniki-carousel-container': [
          'Драник с мортаделлой и страчателлой 540₽',
          'Драники с лангустинами и голландским соусом 540₽',
          'Драники с лососем, сливочным сыром и песто 540₽'
        ],
        'vibe-carousel-container': [
          'Карамельная бриошь с бананом и трюфельной карамелью 360₽',
          'Лавандовый крем с тартаром из киви и кислой маракуйи 440₽',
          'Панкейки с фисташковым кремом и гелем из малины 380₽'
        ],
        'drinks-carousel-container': [
          'Меню напитков','Сезонные напитки','Видео 1','Видео 2','Видео 3','Видео 4'
        ],
        'video-carousel-container': [
          'Видео 1','Видео 2','Видео 3','Видео 4'
        ]
      };
      const list = captions[container.id];
      if(list && list[idx]) captionEl.textContent = list[idx];
    }

    slides.forEach((s,i)=>{
      const v = s.querySelector('video');
      if(!v) return;
      if(i===idx) v.play().catch(()=>{});
      else v.pause();
    });
  }

  function next(){ idx=(idx+1)%slides.length; update(); }
  function prev(){ idx=(idx-1+slides.length)%slides.length; update(); }

  if(right) right.addEventListener('click',()=>{next(); resetAuto();});
  if(left) left.addEventListener('click',()=>{prev(); resetAuto();});

  dots.forEach((d,i)=>d.addEventListener('click',()=>{idx=i; update(); resetAuto();}));

  function startAuto(){ stopAuto(); if(!pausedByHold) autoplayTimer=setInterval(next, intervalMs); }
  function stopAuto(){ if(autoplayTimer){ clearInterval(autoplayTimer); autoplayTimer=null; } }
  function resetAuto(){ startAuto(); }

  // *** Добавляем остановку при удержании ***
  slides.forEach(slide=>{
    slide.addEventListener('mousedown', holdStart);
    slide.addEventListener('touchstart', holdStart, {passive:true});
    slide.addEventListener('mouseup', holdEnd);
    slide.addEventListener('mouseleave', holdEnd);
    slide.addEventListener('touchend', holdEnd);
    slide.addEventListener('touchcancel', holdEnd);
  });

  function holdStart(e){
    pausedByHold = true;
    stopAuto();
    const v = this.querySelector('video'); if(v) v.pause();
  }
  function holdEnd(e){
    pausedByHold = false;
    const v = this.querySelector('video'); if(v) v.play().catch(()=>{});
    startAuto();
  }

  // swipe
  let startX=0,isDown=false;
  track.addEventListener('touchstart',e=>{startX=e.touches[0].clientX; isDown=true;},{passive:true});
  track.addEventListener('touchend',e=>{if(!isDown)return; const endX=e.changedTouches[0].clientX; const diff=endX-startX; if(diff>40) prev(); else if(diff<-40) next(); isDown=false; });

  update();
  if(carousel.dataset.autoplay==="true") startAuto();
  document.addEventListener('visibilitychange',()=>{ if(document.hidden) stopAuto(); else startAuto(); });
  return {update,startAuto,stopAuto};
}

// Инициализация всех каруселей
document.addEventListener('DOMContentLoaded',()=>{ 
  document.querySelectorAll('.carousel-container').forEach(c=>initCarousel(c)); 
});
</script>


<script>
// Функция инициализации карусели с автопрокруткой и удержанием
function initCarousel(container){
  const carousel=container.querySelector('.carousel');
  const track=carousel;
  const slides=Array.from(track.children);
  const left=container.querySelector('.arrow.left');
  const right=container.querySelector('.arrow.right');
  const dots=Array.from(container.querySelectorAll('.dot'));
  const captionEl=container.querySelector('.caption');
  const intervalMs=Number(container.dataset.interval)||5000;
  let idx=0, autoplayTimer=null, pausedByHold=false;

  function update(){
    track.style.transform=`translateX(-${idx*100}%)`;
    dots.forEach((d,i)=>d.classList.toggle('active',i===idx));
    if(captionEl){
      const captions={};
      if(captions[container.id]) captionEl.textContent=captions[container.id][idx];
    }
    slides.forEach((s,i)=>{
      const v=s.querySelector('video'); if(!v) return;
      if(i===idx) v.play().catch(()=>{}); else v.pause();
    });
  }

  function next(){idx=(idx+1)%slides.length;update();}
  function prev(){idx=(idx-1+slides.length)%slides.length;update();}
  if(right) right.addEventListener('click',()=>{next(); resetAuto();});
  if(left) left.addEventListener('click',()=>{prev(); resetAuto();});
  dots.forEach((d,i)=>d.addEventListener('click',()=>{idx=i;update();resetAuto();}));

  function startAuto(){ stopAuto(); if(!pausedByHold) autoplayTimer=setInterval(next,intervalMs);}
  function stopAuto(){ if(autoplayTimer){clearInterval(autoplayTimer); autoplayTimer=null;}}
  function resetAuto(){startAuto();}

  slides.forEach(slide=>{
    slide.addEventListener('mousedown',holdStart);
    slide.addEventListener('touchstart',holdStart,{passive:true});
    slide.addEventListener('mouseup',holdEnd);
    slide.addEventListener('mouseleave',holdEnd);
    slide.addEventListener('touchend',holdEnd);
    slide.addEventListener('touchcancel',holdEnd);
  });

  function holdStart(){ pausedByHold=true; stopAuto(); const v=this.querySelector('video'); if(v) v.pause();}
  function holdEnd(){ pausedByHold=false; const v=this.querySelector('video'); if(v) v.play().catch(()=>{}); startAuto(); }

  update();
  if(container.dataset.autoplay==="true") startAuto();
  document.addEventListener('visibilitychange',()=>{if(document.hidden) stopAuto(); else startAuto();});
  return {update,startAuto,stopAuto};
}

document.addEventListener('DOMContentLoaded',()=>{ document.querySelectorAll('.carousel-container').forEach(c=>initCarousel(c)); });
</script>

</body>
</html>
